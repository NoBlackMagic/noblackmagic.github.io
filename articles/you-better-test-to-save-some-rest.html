

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>you&apos;d better test to save some rest - a strategy to fight the big what the fuck | noBlackMagic.com</title>
    <meta name="description" content="A strategy to fight the big what the fuck that is always lurking - Some advices for a better life and more efficient code experience.">
    
    <link _id="wks-css" rel="stylesheet" href="/assets/index.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<!--  Icons -->
<link rel="icon" type="image/png" href="/assets/images/icons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/assets/images/icons/favicon-64x64.png" sizes="64x64">
<!-- iOS -->
<link href="/assets/images/icons/apple-touch-icon-152x152.png" sizes="152x152" rel="apple-touch-icon">
<link href="/assets/images/icons/apple-touch-icon-144x144.png" sizes="144x144" rel="apple-touch-icon">
<link href="/assets/images/icons/apple-touch-icon-120x120.png" sizes="120x120" rel="apple-touch-icon">
<link href="/assets/images/icons/apple-touch-icon-114x114.png" sizes="114x114" rel="apple-touch-icon">
<link href="/assets/images/icons/apple-touch-icon-76x76.png" sizes="76x76" rel="apple-touch-icon">
<link href="/assets/images/icons/apple-touch-icon-72x72.png" sizes="72x72" rel="apple-touch-icon">
<link href="/assets/images/icons/apple-touch-icon-57x57.png" sizes="57x57" rel="apple-touch-icon">
<!-- // Icon -->

<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

    
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-52991368-1', 'auto');
		ga('send', 'pageview');
	</script>

</head>
<body>
    <div id="wrapper">
        <div id="header">
            <a id="logo" class="clearfix" href="http://noblackmagic.com" title="web developend training for javascript, css, html5">
    <img alt="NoBlackMagic.com Logo" width="75" src="/assets/images/logo.png">
    <h1>NoBlackMagic.com <small>no evil spells required!</small></h1>
</a>
            <nav class="menu">
                <h2>Further Readings:</h2>
                <ul>
                    <li>
<a href="/articles/the-course-of-the-proud-developer.html" title="the course of the proud developer - how bugs lead to team building">&#xBB; The Curse of the Proud Developer</a></li>
                    <li>
<a href="/articles/free-backup-strategies-to-sleep-better.html" title="Sleep tight and have an happy Life!">&#xBB; Sleep tight and have an happy Life!</a></li>
                    <li><a href="../" title="mobile web developent training and coaching for javascript, css, html5">&#xAB; Home Page</a></li>
                </ul>
            </nav>

        </div><!-- // #header -->

        <div id="main">
            <article class="article-item">
                
                <header>
                    <h1>You&apos;d better Test to save some Rest</h1>
                    <h2>
                        <small>16 Jan 2015<br>by</small> Marco Pegoraro
                    </h2>
                </header>
                
                <p>Since the day I became a developer, I&apos;ve always feared the <em>Big What The Fuck</em>. </p>
<p>The <em>BWTF</em> is not only related to the code you write, it is the lack of knowledge that threatens to crush your entire project. It can be as simple as a server misconfiguration that causes a gaping security flaw.</p>
<p>When the <em>BWTF</em> strike, there is nowhere to go; there is no place to hide. The <em>BWTF</em> is like the worst earthquake in the world: no building endures. A big part of your application, job and/or reputation goes to waste. And nobody wants this to happen.</p>
<blockquote>
<p>How can you protect yourself from the <em>Big What The Fuck</em>?</p>
</blockquote>
<p>Well, the first step is to accept that this risk exists. The next step is to conceive a strategy to mitigate that risk. After more than 10 years striving to avoid the <em>BWTF</em> I am now quite sure there is no way to remove that risk from your life. It is part of your life.</p>
<blockquote>
<p>The best strategy to mitigate the risk of a <em>Big What The Fuck</em> is <strong>Testing</strong>.</p>
</blockquote>
<p>I am not constraining the discussion to the source code. You should consider testing to be a strategy for a better life, with or without code. A strategy that you can use to fight the <em>BWTF</em>. Which is always lurking behind every corner, always present.</p>
<p>Say you plan to go holiday to the Red Sea, let&apos;s try to work out a test to stress that decision:</p>
<ul>
<li>will I relax enough?</li>
<li>will I cope with 6 days without my Mac?</li>
<li>will it be safe?</li>
<li>will I gain 4 punds by eating all the time?</li>
</ul>
<p>You do the same activity when coding a procedure that takes 2 integers and return the sum:</p>
<ul>
<li>is <code>sum(1, 1)</code> equal to <code>2</code>?</li>
<li>does <code>sum(&apos;a&apos;, 2)</code> throw an exception?</li>
<li>is <code>sum(&apos;a&apos;, 2)</code> exception a <code>wrongInputType</code> exception?</li>
</ul>
<blockquote>
<p>The more tests that you are able to produce against a decision / procedure, the bigger 
chance you have to find early issues, with less of a risk of a <em>Big What The Fuck</em> 
in the future.</p>
</blockquote>
<p>When it comes to a code scenario the most likely <em>BWTF</em> is to forget to consider a minor requirement from the customer. Then you deliver a product that will fail in the future when that minor requirement will manifest. Your phone will ring like crazy, your inbox will choke and you&apos;ll move abroad to escape your shame.</p>
<blockquote>
<p>The <em>BWTF</em> is due to the unpredictability of when the problem will arise. </p>
</blockquote>
<p>The later it shows up, the less you&apos;ll recall what the minor requirement was and where the problem lies within the code base. And how the hell it works! By the time an issue like that manifests itself, you may have moved to another technology.</p>
<p>In real life a <em>Big What The Fuck</em> can be even worse. Almost four years ago I bought a brand new house and I took a loan for it. Less than two years later I moved to Sweden to join a challenging job opportunity. To this date I still haven&apos;t sold that house, but I&apos;m still paying the mortgage. Of course this is not a life threatening issue, but I can assure you it is annoying to throw away money like that. What if I had prepared myself with a more accurate test when I decided to buy the house? </p>
<ul>
<li>are my career opportunities well developed close to the house?</li>
<li>does my career ask me to be flexible about my location?</li>
<li>will it be possible to sell the house without losing big money on it?</li>
</ul>
<p>Well, I must confess that I didn&apos;t create any of those tests at the time of the buying.</p>
<p>As you can see by yourself there is no known ways to completely remove the risk of a <em>Big What The Fuck</em>. The right way to behave is to mitigate that risk by running every decision / procedure against a <em>good amount of tests</em>. What the word <em>good</em> means in this context is up to you, but in general the more the tests the less the risk. </p>
<p>Another important point is that you can build you tests through time; it is always the right moment to add a new test. This is easier within a coding scenario. You may have missed a minor requirement but as soon you recognise it you can add a specific test to secure that requirement.</p>
<p>My test suite for real life scenarios is <em>practical common sense</em> but when it comes to a code scenario I can give some more specific advices which are specific to <em>Javascript</em>.</p>
<p><a href="http://karma-runner.github.io/0.12/index.html">KarmaJS</a> is a <a href="nodejs.org">NodeJS</a> command line tool which runs your unit tests. Among its features I should mention that you can run tests on multiple target browsers. You can test mobile devices connected to the same network. I use KarmaJS in combination with <a href="http://gruntjs.com/">GruntJS</a> or <a href="http://gulpjs.com/">GulpJS</a> to integrate tests into my building processes.</p>
<p><a href="http://mochajs.org/">MochaJS</a> is a Javascript test framework which helps in creating your specs files. It provides utility methods for a nice code organization of your unit tests.</p>
<p><a href="http://chaijs.com/">ChaiJS</a> is an <em>assertion library</em> that works great with Mocha. It allows you to write <code>expect(foo).to.be.a.string</code> so your assertions comes close to a natural language.</p>
<p><a href="http://sinonjs.org/">SinonJS</a> is a <em>mocking library</em> which provides a set of tools to investigate your code. Does this method fire twice? Did it receive a string argument? You can go further and completely mimic an <em>XHR request</em>.</p>
<blockquote>
<p>I maintain a simple <em><a href="npmjs.org">NPM module</a></em> which combines the above tools to provide 
you with a ready to use test suite for Javascript: 
<a href="https://www.npmjs.com/package/grunt-mocha-chai-sinon">grunt-mocha-chai-sinon</a>.</p>
<p>For a more sophisticated tool that brings a building process for <em>single page applications</em>
give a try to <a href="https://github.com/PoliteJS/workspace">PoliteJS/Workspace</a>.</p>
</blockquote>
<p><a href="http://www.webdriver.io/">WebDriver</a> is a NodeJS bridge to <a href="http://www.seleniumhq.org/">Selenium</a> functional testing suite. You can build your <em>FAT</em> in Javascript driving a browsing session with full access to Selenium&apos;s API.</p>
<p><a href="http://dalekjs.com/">DalekJS</a> is a standalone alternative to <em>WebDriver</em>. Even if it is on an early stage it looks very promising.</p>
<h3 id="remember-your-takeaway-">Remember your Takeaway:</h3>
<ol>
<li>the <em>Big What The Fuck</em> is always lurking and there is no way to avoid it</li>
<li><strong>testing is the best strategy</strong> you have to mitigate the risk of a <em>BWTF</em></li>
<li>you can apply testing to your professional and private life</li>
</ol>

            
                
            </article>
            <div style="margin-top: 0">
	<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'noblackmagic'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
</div>
        </div>
    </div>
    <div id="credits">
	<p>
		Marco Pegoraro - 
		<a href="http://twitter.com/thepeg" target="_blank">@ThePeg</a> - 
		<a href="https://github.com/NoBlackMagic/noblackmagic.github.io" target="_blank">Fork on GitHub</a> - 
		Knowledge worth to Share
	</p>
</div>
</body>
</html>